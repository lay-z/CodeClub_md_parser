{"changed":true,"filter":false,"title":"activity_splitter.py","tooltip":"/activity_splitter.py","value":"import json\nimport re\n\ndef split_activities(section):\n    test2 = section.split('\\n+ ')\n    for part in test2:\n        \n\npattern = re.compile(r```blocks[^`]*```,test2)\nre.match(r```blocks[^`]*```,test2)\n\ntestfile = open(\"act-test.md\", \"r\").read()\nsplit_activities(testfile)\n\n\n\n\n\n\n    \n# def split_sections(file):\n#     '''\n#     @params file: .md file being split up into sections\n#     @return diction\n#     '''\n\n# for i,step in enumerate(file.split('\\n# ')):\n#     print('--------')\n#     print(step[:100])\n    \n#     open('flappy_parrot/step{}.md'.format(i),'w').write(step)\n\n\n# # json.dump(dictionary, json_file)\n# print dictionary\n\n\n# if __name__ == '__main__':\n#     #This code will when not being imported in another file\n#     dictionary = {'test': 2}\n    \n#     file = open(\"Flappy Parrot.md\", \"r\").read()\n#     json_file = open(\"test.json\", 'w')\n#```blocks[^`]*```\n\nimport re\n\nDEBUG = False\n\ndef parseComponent(text):\n\t'''Parse component takes a block of text and returns an object consisting of\n\t\ttext\n\t\tblocks\n\t\timage\n\t'''\n\n\tresult = {}\n\n\tblockPattern = re.compile(r'```blocks([^`]*)```')\n\n\t# find blocks\n\tmatch = blockPattern.search(text)\n\tif (match is not None):\n\t\tresult['blocks'] = match.group(1).strip()\n\t\tif DEBUG: print('blocks:',result['blocks'])\n\n\t# remove blocks\n\ttext = blockPattern.sub('',text)\n\t# print('text',text)\n\n\tphotoPattern = re.compile(r'!\\[screenshot\\]\\((.*)\\)')\n\n\t# find photos\n\tmatch = photoPattern.search(text)\n\tif (match is not None):\n\t\tresult['photo'] = match.group(1).strip()\n\t\tif DEBUG: print('photo:',result['photo'] )\n\n\t# remove photos\n\tresult['text']  = photoPattern.sub('',text).strip()\n\tif DEBUG: print('text:',result['text'])\n\n\treturn result\n\n\nif (__name__ == \"__main__\"):\n\n\ttest = \"\"\"\nGive Flappy the following script:\n```blocks\n    when FLAG clicked\n        go to x: (-50) y: (0)\n        forever\n            change y by (-3)\n```\n![screenshot](pipe_design.png)\n\t\"\"\"\n\n\tDEBUG = True\n\tparseComponent(test)","undoManager":{"mark":-2,"position":2,"stack":[[{"start":{"row":0,"column":11},"end":{"row":1,"column":9},"action":"insert","lines":["","import re"],"id":402,"ignore":true},{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"remove","lines":["    "]},{"start":{"row":7,"column":0},"end":{"row":9,"column":34},"action":"insert","lines":["","pattern = re.compile(r```blocks[^`]*```,test2)","re.match(r```blocks[^`]*```,test2)"]},{"start":{"row":42,"column":40},"end":{"row":43,"column":18},"action":"insert","lines":["","#```blocks[^`]*```"]}],[{"start":{"row":43,"column":18},"end":{"row":45,"column":0},"action":"insert","lines":["","",""],"id":403,"ignore":true}],[{"start":{"row":45,"column":0},"end":{"row":99,"column":21},"action":"insert","lines":["import re","","DEBUG = False","","def parseComponent(text):","\t'''Parse component takes a block of text and returns an object consisting of","\t\ttext","\t\tblocks","\t\timage","\t'''","","\tresult = {}","","\tblockPattern = re.compile(r'```blocks([^`]*)```')","","\t# find blocks","\tmatch = blockPattern.search(text)","\tif (match is not None):","\t\tresult['blocks'] = match.group(1).strip()","\t\tif DEBUG: print('blocks:',result['blocks'])","","\t# remove blocks","\ttext = blockPattern.sub('',text)","\t# print('text',text)","","\tphotoPattern = re.compile(r'!\\[screenshot\\]\\((.*)\\)')","","\t# find photos","\tmatch = photoPattern.search(text)","\tif (match is not None):","\t\tresult['photo'] = match.group(1).strip()","\t\tif DEBUG: print('photo:',result['photo'] )","","\t# remove photos","\tresult['text']  = photoPattern.sub('',text).strip()","\tif DEBUG: print('text:',result['text'])","","\treturn result","","","if (__name__ == \"__main__\"):","","\ttest = \"\"\"","Give Flappy the following script:","```blocks","    when FLAG clicked","        go to x: (-50) y: (0)","        forever","            change y by (-3)","```","![screenshot](pipe_design.png)","\t\"\"\"","","\tDEBUG = True","\tparseComponent(test)"],"id":404,"ignore":true}]]},"ace":{"folds":[],"scrolltop":755,"scrollleft":0,"selection":{"start":{"row":78,"column":15},"end":{"row":78,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":57,"state":"start","mode":"ace/mode/python"}},"timestamp":1444924329011}