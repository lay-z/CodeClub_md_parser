{"changed":false,"filter":false,"title":"Flappy Parrot.md","tooltip":"/Flappy Parrot.md","value":"---\ntitle: Flappy Parrot\nlevel: Scratch +\nlanguage: en-GB\nstylesheet: scratch\nembeds: \"*.png\"\nmaterials: \"*.sb2\"\n...\n\n# Introduction { .intro}\n\n__In this project we’ll make our own version of the highly popular mobile game Flappy Bird. This project requires Scratch 2.0.__\n\nPress the space bar to flap and try to navigate through the gaps in the pipes!\n\n![screenshot](flappy_screenshot.png)\n\n# **Step 1:** Make Flappy fall {.activity}\n\n## Activity Checklist { .check}\n\n+ Start a new Scratch project. Delete the cat by right-clicking it and selecting Delete\n+ Replace the background with an outdoor landscape. **desert** is a good choice.\n+ Add the Flappy character. You'll need a sprite with costumes for wings up and wings down. **parrot** is a good choice.\n+ Change the name of your sprite to __Flappy__.\n+ Give Flappy the following script:\n```blocks\n    when FLAG clicked\n        go to x: (-50) y: (0)\n        forever\n            change y by (-3)\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does Flappy start in the middle of the screen and then fall to the bottom?\n\n## Save your project { .save}\n\n# **Step 2:** Make Flappy fly {.activity}\n\nNext, we want Flappy to flap upwards when you press the space bar.\n\n## Activity Checklist { .check}\n\n+ Click on the __Costumes__ tab and name the costumes **wings up** and **wings down**.\n+ Now switch back to the __Scripts__ tab and add this script:\n```blocks\n    when [space v] key pressed\n        switch costume to [wings down v]\n        repeat (10)\n            change y by (6)\n        end\n        switch costume to [wings up v]\n        repeat (10)\n            change y by (6)\n        end\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, are you able to control Flappy with the space bar? Do you notice that sometimes you press the space bar but Flappy doesn't move? We'll fix that next...\n\n## Save your project { .save }\n\n# **Step 3:** Fix the controls {.activity .new-page }\n\nWe'd like Flappy to respond every time we press the space bar. But when we push the space bar Flappy begins two loops of movements. If we push the space bar again before these loops have finished, Scratch ignores the second press. To solve this, we'll use a variable to count up how many flaps we need to do.\n\n## Activity Checklist { .check}\n\n+ Disconnect the blocks under the `when space key pressed` {.blockbrown} and put them to the side (we'll use them in a few moments.)\n+ Make a new variable `For this sprite only` {.blockgrey} and call it `flaps` {.blockorange}.\n+ Add the following script by draging in the blocks you put aside:\n```blocks\n    when FLAG clicked\n        set [flaps v] to [0]\n        switch costume to [wings up v]\n        forever\n            repeat until <(flaps) = [0]>\n                change [flaps v] by (-1)\n                switch costume to [wings down v]\n                repeat (10)\n                    change y by (6)\n                end\n                switch costume to [wings up v]\n                repeat (10)\n                    change y by (6)\n                end\n```\n+ Finally, add to your `when space key pressed` {.blockbrown} event:\n```blocks\n    when [space v] key pressed\n        change [flaps v] by (1)\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does Flappy now flap once for each time you press the space bar?\n\n## Save your project { .save}\n\n# **Step 4:** Add the pipes {.activity}\n\nNext we'll add some obstacles for Flappy to fly through.\n\n## Activity Checklist { .check}\n\n+ Click on the `Paint new sprite` {.blockgrey} button.\n+ Name your costume **pipe**.\n+ If the costume is in `Bitmap Mode` {.blockgrey} click on the `Convert to vector` {.blockgrey} button.\n+ Click on the `Zoom -` {.blockgrey} so that you can see the entire drawing area.\n+ Click on the `Rectangle` {.blockgrey}, pick a colour, and click on the `Filled rectangle` {.blockgrey} button.\n+ Click and drag two boxes, one from the top middle and one from the bottom middle as shown:\n\n![screenshot](pipe_design.png)\n\n+ You can shade your pipes by clicking on the `Color a shape` {.blockgrey} button and click on the `Horizontal gradient` {.blockgrey} button. Choose two shades of the same colour one for the foreground and one for the background. When you click to fill the shapes, the colours will fade between your chosen colours.\n+ Name your sprite **Pipe**.\n\n## Save your project { .save}\n\n# **Step 5:** Make the pipes move {.activity}\n\nNext we'll make the pipes move and arrange them randomly to provide an obstacle course for Flappy.\n\n## Activity Checklist { .check}\n\n+ Click on your **Pipe** sprite and select the `Scripts` {.blockgrey} tab.\n+ Add the following scripts:\n```blocks\n    when FLAG clicked\n        hide\n        set size to (200)%\n        forever\n            create clone of [myself v]\n            wait (2) secs\n\n    when I start as a clone\n        go to x: (240) y: (pick random (-80) to (80))\n        show\n        repeat (120)\n            change x by (-4)\n        end\n        delete this clone\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, do pipes appear with gaps to fly through at different heights? If you find it difficult to navigate Flappy through the pipes without touching them, you can make the gap bigger in the **pipe** sprite by editing the costume.\n\n## Save your project { .save}\n\n# **Step 6:** Detect collision with the pipes {.activity}\n\nTo make the game a challenge, the player needs to guide Flappy through the gaps without touching the pipes or the edges of the screen. Now we'll add some blocks to detect if Flappy hits something.\n\n## Activity Checklist { .check}\n\n+ Let's add a sound to play when Flappy collides. Click on the **Flappy** sprite then on the `Sounds` {.blockgrey} tab.\n+ Click the `Choose sound from library` {.blockgrey} button.\n+ Pick a collision sound for **Flappy**. The **screech** sound is good.\n+ Now click back on the `Scripts` {.blockgrey} tab.\n+ Add the following script:\n```blocks\n    when FLAG clicked\n        wait until ((touching [edge v]?) or (touching [Pipe v]?))\n        play sound [screech v]\n        say [Game Over!]\n        broadcast [GameOver v]\n        stop [other scripts in sprite v]\n```\n+ Click on the **Pipe** sprite and add a script:\n```blocks\n    when I receive [GameOver v]\n        stop [other scripts in sprite v]\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does the game end when Flappy touches a pipe or the edge of the screen?\n\n## Save your project { .save}\n\n# **Step 7:** Add scoring {.activity}\n\nThe player should score a point every time Flappy makes it though a pipe. Let's add that next.\n\n## Activity Checklist { .check}\n\n+ Let's add a sound to play when Flappy scores a point. Click on the **Pipe** sprite add a score sound. **bird** is a good choice.\n+ Now click back on the `Scripts` {.blockgrey} tab.\n+ Make a new variable `For all sprites` {.blockgrey} and call it `score` {.blockorange}.\n+ Add a block to set the score to 0 when the flag is clicked.\n+ Add the following block:\n```blocks\n    when I start as a clone\n        wait until <(x position) < ([x position v] of [Flappy v])>\n        change [score v] by (1)\n        play sound [bird v]\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does the player score points for flying Flappy through the pipes?\n\n## Save your project { .save}\n\n## Things to try { .try}\n\n+ __How many ways can you make this game easier or harder?__\n+ __Well done you’ve finished the basic game. There are more things you can do to your game though. Have a go at these challenges!__\n\n## Challenge 1: add a high score { .challenge}\n\n+ Make a new variable and tick the `Cloud variable (stored on server)` {.blockgrey} box. Call the variable `hi-score` {.blockorange}\n+ when the game is over check if you need to set a new high score:\n```blocks\n    when I receive [GameOver v]\n        if <(score) > (hi-score)> then\n            set [hi-score v] to (score)\n        end\n        stop [other scripts in sprite v]\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does your score update the `hi-score`?\n\n## Save your project { .save}\n\n## Challenge 2: add gravity { .challenge}\n\nWhen something falls under gravity it doesn't usually fall at a fixed rate. For this challenge we will make Flappy fall as if under gravity.\n\n+ Add a new variable `For this sprite only` {.blockgrey} to **Flappy** and call it `rise` {.blockorange}.\n+ Change Flappy's falling script:\n```blocks\n    when FLAG clicked\n        set [rise v] to [0]\n        go to x: (-50) y: (0)\n        forever\n            change y by (rise)\n            change [rise v] by (-0.4)\n```\n+ And change Flappy's flapping script:\n```blocks\n    when FLAG clicked\n        set [flaps v] to [0]\n        switch costume to [wings up v]\n        forever\n            repeat until <(flaps) = [0]>\n                change [flaps v] by (-1)\n                switch costume to [wings down v]\n                change [rise v] by (8)\n                wait (0.2) secs\n                switch costume to [wings up v]\n                wait (0.2) secs\n```\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does Flappy now accelerate when falling and flapping?\n\n## Save your project { .save}\n\n## Challenge 3: fall off screen { .challenge}\n\nWhen the player loses make Flappy fall off the bottom of the screen before ending the game.\n\n+ Replace the `broadcast GameOver` {.blockbrown}  block with `broadcast Fall` {.blockbrown}\n+ Now add the following scripts:\n```blocks\n    when I receive [Fall v]\n        repeat (10)\n            turn ccw (5) degrees\n\n    when I receive [Fall v]\n        repeat until <(y position) < [-180]>\n            change y by (rise)\n            change [rise v] by (-0.4)\n        end\n        hide\n        broadcast [GameOver v]\n```\n+ Don't forget to add a `show` {.blockpurple} block and reset Flappy's direction when the game restarts.\n\n## Test Your Project { .flag}\n\n__Click the green flag__, does Flappy now fall off the screen after hitting a pipe? Does Flappy reappear in the correct orientation when restarting the game.\n\n## Save your project { .save}\n\nWell done, you’ve finished! Now you can enjoy your game!\n\nDon’t forget you can share your game with all your friends and family by clicking on **Share** on the menu bar!\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":26,"column":0},"end":{"row":31,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1444917124062}